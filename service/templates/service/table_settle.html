{% extends "menu/base.html" %}
{% block title %}
    Widok stolików
{% endblock title %}
{% block content %}
    <style>
    .floor-plan {
        position: relative;
        width: 800px;
        height: 400px;
        border: 2px solid #ccc;
        background-color: #f8f9fa;
        margin: 20px auto;
    }
    .table-btn {
        position: absolute;
        width: 60px;
        height: 40px;
        border-radius: 5px;
    }
    .selected {
        background-color: orange !important;
        color: white !important;
    }
    </style>
    <h2 class="text-center mt-4">Widok stolików</h2>
    <div class="floor-plan">
        {% for t in tables %}
            <button type="button"
                    class="btn btn-success table-btn"
                    style="left: {{ t.x }}px;
                           top: {{ t.y }}px"
                    data-pk="{{ t.pk }}"
                    {% if not t.is_occupied %}disabled{% endif %}>{{ t.name }}</button>
        {% endfor %}
    </div>
    <script>
    document.querySelectorAll(".table-btn").forEach(btn => {
        btn.addEventListener("click", () => {
            let pk = btn.dataset.pk;
            window.location.href = `{% url 'service:bill' %}?table=${pk}`;
        });
    });
    </script>
{% endblock content %}
